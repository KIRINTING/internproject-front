<div class="page-container animate-fade-in">
    <div class="page-header">
        <h2><span class="icon">üìù</span> ‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ù‡∏∂‡∏Å‡∏á‡∏≤‡∏ô</h2>
        <p>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ù‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û</p>
    </div>

    <div class="glass-panel form-card">
        <p-confirmpopup></p-confirmpopup>
        <form [formGroup]="requestForm" (ngSubmit)="onSubmit($event)">

            <!-- Section 1: Student Information -->
            <div class="section-title">
                <h3>üìö ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h3>
                <p class="section-desc">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</p>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">1. ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ <span class="required">*</span></label>
                    <input type="text" formControlName="student_code" class="form-control" readonly>
                </div>

                <div class="form-group">
                    <label class="form-label">‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏∑‡πà‡∏≠ <span class="required">*</span></label>
                    <select formControlName="title" class="form-control" [class.is-invalid]="isFieldInvalid('title')">
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤</option>
                        <option value="‡∏ô‡∏≤‡∏¢">‡∏ô‡∏≤‡∏¢</option>
                        <option value="‡∏ô‡∏≤‡∏á">‡∏ô‡∏≤‡∏á</option>
                        <option value="‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß">‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">2. ‡∏ä‡∏∑‡πà‡∏≠ <span class="required">*</span></label>
                    <input type="text" formControlName="first_name" class="form-control"
                        [class.is-invalid]="isFieldInvalid('first_name')">
                </div>

                <div class="form-group">
                    <label class="form-label">3. ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="required">*</span></label>
                    <input type="text" formControlName="last_name" class="form-control"
                        [class.is-invalid]="isFieldInvalid('last_name')">
                </div>

                <div class="form-group">
                    <label class="form-label">4. ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå (‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠) <span class="required">*</span></label>
                    <input type="tel" formControlName="phone" class="form-control" placeholder="0812345678"
                        [class.is-invalid]="isFieldInvalid('phone')">
                </div>

                <div class="form-group">
                    <label class="form-label">5. ‡∏´‡∏°‡∏π‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <span class="required">*</span></label>
                    <input type="text" formControlName="class_group" class="form-control" placeholder="‡πÄ‡∏ä‡πà‡∏ô CS-01"
                        [class.is-invalid]="isFieldInvalid('class_group')">
                </div>

                <div class="form-group full-width">
                    <label class="form-label">6. ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <span class="required">*</span></label>
                    <select formControlName="registration_status" class="form-control"
                        [class.is-invalid]="isFieldInvalid('registration_status')">
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option>
                        <option value="‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß</option>
                        <option value="‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</option>
                    </select>
                </div>
            </div>

            <div class="divider"></div>

            <!-- Section 2: Company Information -->
            <div class="section-title">
                <h3>üè¢ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô/‡∏™‡∏ñ‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£</h3>
            </div>

            <div class="form-grid">
                <div class="form-group full-width">
                    <label class="form-label">7. ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô <span class="required">*</span></label>
                    <input type="text" formControlName="company_name" class="form-control"
                        placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô" [class.is-invalid]="isFieldInvalid('company_name')">
                </div>

                <div class="form-group full-width">
                    <label class="form-label">8. ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏ù‡∏∂‡∏Å‡∏Ø <span class="required">*</span></label>
                    <input type="text" formControlName="position" class="form-control"
                        placeholder="‡πÄ‡∏ä‡πà‡∏ô Web Developer, IT Support" [class.is-invalid]="isFieldInvalid('position')">
                </div>

                <div class="form-group full-width">
                    <label class="form-label">9. ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô/‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥ <span
                            class="required">*</span></label>
                    <textarea formControlName="job_description" class="form-control" rows="4"
                        placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥ (‡∏á‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ß‡∏∏‡∏í‡∏¥)"
                        [class.is-invalid]="isFieldInvalid('job_description')"></textarea>
                </div>

                <div class="form-group full-width">
                    <label class="form-label">10. ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô <span class="required">*</span></label>
                    <textarea formControlName="company_address" class="form-control" rows="3"
                        placeholder="‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ ‡∏ä‡∏±‡πâ‡∏ô ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ‡∏´‡∏°‡∏π‡πà ‡∏ñ‡∏ô‡∏ô ‡∏ï‡∏≥‡∏ö‡∏• ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå"
                        [class.is-invalid]="isFieldInvalid('company_address')"></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">11. ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô <span class="required">*</span></label>
                    <input type="tel" formControlName="company_phone" class="form-control" placeholder="021234567"
                        [class.is-invalid]="isFieldInvalid('company_phone')">
                </div>
            </div>

            <div class="divider"></div>

            <!-- Section 3: Coordinator Information -->
            <div class="section-title">
                <h3>üë§ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô</h3>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">12. ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô <span class="required">*</span></label>
                    <input type="text" formControlName="coordinator_name" class="form-control"
                        [class.is-invalid]="isFieldInvalid('coordinator_name')">
                </div>

                <div class="form-group">
                    <label class="form-label">13. ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô <span class="required">*</span></label>
                    <input type="text" formControlName="coordinator_position" class="form-control"
                        [class.is-invalid]="isFieldInvalid('coordinator_position')">
                </div>

                <div class="form-group">
                    <label class="form-label">14. ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô <span class="required">*</span></label>
                    <input type="tel" formControlName="coordinator_phone" class="form-control" placeholder="0812345678"
                        [class.is-invalid]="isFieldInvalid('coordinator_phone')">
                </div>
            </div>

            <div class="divider"></div>

            <!-- Section 4: Approver Information -->
            <div class="section-title">
                <h3>‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</h3>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">15. ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ <span
                            class="required">*</span></label>
                    <input type="text" formControlName="approver_name" class="form-control"
                        [class.is-invalid]="isFieldInvalid('approver_name')">
                </div>

                <div class="form-group">
                    <label class="form-label">16. ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ <span class="required">*</span></label>
                    <input type="text" formControlName="approver_position" class="form-control"
                        placeholder="‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô, ‡∏ú‡∏π‡πâ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£, ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ ‡∏Ø‡∏•‡∏Ø"
                        [class.is-invalid]="isFieldInvalid('approver_position')">
                </div>
            </div>

            <div class="divider"></div>

            <!-- Section 5: Location & Photo -->
            <div class="section-title">
                <h3>üìç ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</h3>
            </div>

            <div class="form-grid">
                <div class="form-group full-width">
                    <label class="form-label">17. ‡∏û‡∏¥‡∏Å‡∏±‡∏î Google Map ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ù‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û</label>
                    <input type="text" formControlName="google_map_coordinates" class="form-control"
                        placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 18.807871, 98.985393">
                    <small class="form-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô Google Maps ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏û‡∏¥‡∏Å‡∏±‡∏î</small>
                </div>

                <div class="form-group full-width">
                    <label class="form-label">18. ‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ù‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û‡∏Ø</label>
                    <input type="file" (change)="onPhotoSelected($event)" accept="image/*" class="form-control">
                    <small class="form-text">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå JPG, PNG ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB</small>

                    <div *ngIf="photoPreview" class="photo-preview">
                        <img [src]="photoPreview" alt="Preview">
                    </div>
                </div>

                <div class="form-group full-width">
                    <label class="form-label">21. ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                    <textarea formControlName="notes" class="form-control" rows="3"
                        placeholder="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)"></textarea>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="form-actions">
                <button type="submit" class="btn btn-primary" [disabled]="isLoading">
                    <span *ngIf="!isLoading">üì§ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span>
                    <span *ngIf="isLoading">‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á...</span>
                </button>
            </div>
        </form>
    </div>
</div>